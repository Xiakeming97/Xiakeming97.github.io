<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ç°åœ¨è‡ªå·±åœ¨ä½¿ç”¨çš„gitæäº¤è§„èŒƒé…ç½®</title>
      <link href="/2023/06/30/xian-zai-zi-ji-zai-shi-yong-de-git-ti-jiao-gui-fan-pei-zhi/"/>
      <url>/2023/06/30/xian-zai-zi-ji-zai-shi-yong-de-git-ti-jiao-gui-fan-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h1 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h1><ul><li>husky<br>æ“ä½œ git é’©å­çš„å·¥å…·</li><li>commitlint<br>commit ä¿¡æ¯æ ¡éªŒå·¥å…·</li><li>commitizen<br>commit è‡ªåŠ¨åŒ–æç¤ºå·¥å…·ï¼Œç®€ç§° cz</li><li>cz-customizable<br>å¯è‡ªå®šä¹‰çš„ cz é€‚é…å™¨</li><li>commitlint-config-git-commit-emoji<br>emoji æ’ä»¶</li></ul><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><h2 id="å®‰è£…-husky-å·¥å…·"><a href="#å®‰è£…-husky-å·¥å…·" class="headerlink" title="å®‰è£… husky å·¥å…·"></a>å®‰è£… husky å·¥å…·</h2><h3 id="å®‰è£…-husky-æ’ä»¶"><a href="#å®‰è£…-husky-æ’ä»¶" class="headerlink" title="å®‰è£… husky æ’ä»¶"></a>å®‰è£… husky æ’ä»¶</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> husky <span class="token parameter variable">-D</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i husky <span class="token parameter variable">-D</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åœ¨package-jsonä¸­æ·»åŠ è„šæœ¬"><a href="#åœ¨package-jsonä¸­æ·»åŠ è„šæœ¬" class="headerlink" title="åœ¨package.jsonä¸­æ·»åŠ è„šæœ¬"></a>åœ¨<code>package.json</code>ä¸­æ·»åŠ è„šæœ¬</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> set-script prepare <span class="token string">"husky install"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> set-script prepare <span class="token string">"husky install"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ ¹ç›®å½•åˆ›å»º-huskyæ–‡ä»¶å¤¹-å°†-git-hooks-é’©å­äº¤ç”±-husky-æ‰§è¡Œ"><a href="#æ ¹ç›®å½•åˆ›å»º-huskyæ–‡ä»¶å¤¹-å°†-git-hooks-é’©å­äº¤ç”±-husky-æ‰§è¡Œ" class="headerlink" title="æ ¹ç›®å½•åˆ›å»º.huskyæ–‡ä»¶å¤¹,å°† git hooks é’©å­äº¤ç”± husky æ‰§è¡Œ"></a>æ ¹ç›®å½•åˆ›å»º<code>.husky</code>æ–‡ä»¶å¤¹,å°† git hooks é’©å­äº¤ç”± husky æ‰§è¡Œ</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> prepare<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> run prepare<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ·»åŠ -commit-msg-é’©å­-æ‰§è¡Œä¿¡æ¯æ ¡éªŒ"><a href="#æ·»åŠ -commit-msg-é’©å­-æ‰§è¡Œä¿¡æ¯æ ¡éªŒ" class="headerlink" title="æ·»åŠ  commit-msg é’©å­,æ‰§è¡Œä¿¡æ¯æ ¡éªŒ"></a>æ·»åŠ  commit-msg é’©å­,æ‰§è¡Œä¿¡æ¯æ ¡éªŒ</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npx husky <span class="token function">add</span> .husky/commit-msg <span class="token string">'npx --no-install commitlint --edit "$1"'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å®‰è£…-commitlint"><a href="#å®‰è£…-commitlint" class="headerlink" title="å®‰è£… commitlint"></a>å®‰è£… commitlint</h2><h3 id="å®‰è£…-commit-æ ¡éªŒå·¥å…·"><a href="#å®‰è£…-commit-æ ¡éªŒå·¥å…·" class="headerlink" title="å®‰è£… commit æ ¡éªŒå·¥å…·"></a>å®‰è£… commit æ ¡éªŒå·¥å…·</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> commitlint @commitlint/config-conventional <span class="token parameter variable">-D</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i commitlint @commitlint/config-conventional <span class="token parameter variable">-D</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>@commitlint&#x2F;config-conventional</strong> è¿™æ˜¯ä¸€ä¸ªè§„èŒƒé…ç½®,æ ‡è¯†é‡‡ç”¨ä»€ä¹ˆè§„èŒƒæ¥æ‰§è¡Œæ¶ˆæ¯æ ¡éªŒ, è¿™ä¸ªé»˜è®¤æ˜¯ Angular çš„æäº¤è§„èŒƒ</li></ul><h3 id="åˆ›å»º-commitlint-config-js-é…ç½®æ–‡ä»¶"><a href="#åˆ›å»º-commitlint-config-js-é…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»º commitlint.config.js é…ç½®æ–‡ä»¶"></a>åˆ›å»º <code>commitlint.config.js</code> é…ç½®æ–‡ä»¶</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"module.exports = &#123;extends: ['@commitlint/config-conventional']&#125;"</span> <span class="token operator">></span> commitlint.config.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å®‰è£…-commitizen"><a href="#å®‰è£…-commitizen" class="headerlink" title="å®‰è£… commitizen"></a>å®‰è£… commitizen</h2><h3 id="å®‰è£…è‡ªåŠ¨åŒ–æç¤ºå·¥å…·"><a href="#å®‰è£…è‡ªåŠ¨åŒ–æç¤ºå·¥å…·" class="headerlink" title="å®‰è£…è‡ªåŠ¨åŒ–æç¤ºå·¥å…·"></a>å®‰è£…è‡ªåŠ¨åŒ–æç¤ºå·¥å…·</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> commitizen cz-conventional-changelog <span class="token parameter variable">-D</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i commitizen cz-conventional-changelog <span class="token parameter variable">-D</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="package-json-ä¸­æ·»åŠ -commit-æŒ‡ä»¤-æ‰§è¡Œ-git-cz-æŒ‡ä»¤"><a href="#package-json-ä¸­æ·»åŠ -commit-æŒ‡ä»¤-æ‰§è¡Œ-git-cz-æŒ‡ä»¤" class="headerlink" title="package.json ä¸­æ·»åŠ  commit æŒ‡ä»¤, æ‰§è¡Œ git-cz æŒ‡ä»¤"></a><code>package.json</code> ä¸­æ·»åŠ  commit æŒ‡ä»¤, æ‰§è¡Œ <code>git-cz</code> æŒ‡ä»¤</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> set-script commit <span class="token string">"git-cz"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> set-script commit <span class="token string">"git-cz"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åˆå§‹åŒ–å‘½ä»¤è¡Œçš„é€‰é¡¹ä¿¡æ¯"><a href="#åˆå§‹åŒ–å‘½ä»¤è¡Œçš„é€‰é¡¹ä¿¡æ¯" class="headerlink" title="åˆå§‹åŒ–å‘½ä»¤è¡Œçš„é€‰é¡¹ä¿¡æ¯"></a>åˆå§‹åŒ–å‘½ä»¤è¡Œçš„é€‰é¡¹ä¿¡æ¯</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npx commitizen init cz-conventional-changelog --save-dev --save-exact<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å®‰è£…å¯è‡ªå®šä¹‰çš„-cz-é€‚é…å™¨"><a href="#å®‰è£…å¯è‡ªå®šä¹‰çš„-cz-é€‚é…å™¨" class="headerlink" title="å®‰è£…å¯è‡ªå®šä¹‰çš„ cz é€‚é…å™¨"></a>å®‰è£…å¯è‡ªå®šä¹‰çš„ cz é€‚é…å™¨</h2><p>å› ä¸º commitizen åªæ”¯æŒè‹±æ–‡ï¼Œå¦‚æœæˆ‘æƒ³è¦æ”¯æŒä¸­æ–‡æŒ‡ä»¤å’Œ emojiï¼Œé‚£ä¹ˆå°±å¿…é¡»å®‰è£…å¯è‡ªå®šä¹‰çš„ cz é€‚é…å™¨äº†</p><h3 id="å®‰è£…-cz-é€‚é…å™¨"><a href="#å®‰è£…-cz-é€‚é…å™¨" class="headerlink" title="å®‰è£… cz é€‚é…å™¨"></a>å®‰è£… cz é€‚é…å™¨</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token parameter variable">-D</span> commitlint-config-cz  cz-customizable<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i <span class="token parameter variable">-D</span> commitlint-config-cz  cz-customizable<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åœ¨æ ¹ç›®å½•åˆ›å»º-cz-config-jsæ–‡ä»¶"><a href="#åœ¨æ ¹ç›®å½•åˆ›å»º-cz-config-jsæ–‡ä»¶" class="headerlink" title="åœ¨æ ¹ç›®å½•åˆ›å»º .cz-config.jsæ–‡ä»¶"></a>åœ¨æ ¹ç›®å½•åˆ›å»º <code>.cz-config.js</code>æ–‡ä»¶</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token operator">></span> .cz-config.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å°†ä»¥ä¸‹é…ç½®å†…å®¹å¤åˆ¶åˆ°-cz-config-jsæ–‡ä»¶ä¸­"><a href="#å°†ä»¥ä¸‹é…ç½®å†…å®¹å¤åˆ¶åˆ°-cz-config-jsæ–‡ä»¶ä¸­" class="headerlink" title="å°†ä»¥ä¸‹é…ç½®å†…å®¹å¤åˆ¶åˆ°.cz-config.jsæ–‡ä»¶ä¸­"></a>å°†ä»¥ä¸‹é…ç½®å†…å®¹å¤åˆ¶åˆ°<code>.cz-config.js</code>æ–‡ä»¶ä¸­</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">types</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":sparkles: feat"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"âœ¨ feat:     æ–°åŠŸèƒ½"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":bug: fix"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"ğŸ› fix:      ä¿®å¤bug"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":package: build"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"ğŸ“¦ï¸ build:    æ‰“åŒ…"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":zap: perf"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"âš¡ï¸ perf:     æ€§èƒ½ä¼˜åŒ–"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":tada: release"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"ğŸ‰ release:  å‘å¸ƒæ­£å¼ç‰ˆ"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":lipstick: style"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"ğŸ’„ style:    ä»£ç çš„æ ·å¼ç¾åŒ–"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":recycle: refactor"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"â™»ï¸  refactor: é‡æ„"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":pencil2: docs"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"âœï¸  docs:     æ–‡æ¡£å˜æ›´"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":white_check_mark: test"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"âœ… test:     æµ‹è¯•"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":rewind: revert"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"âªï¸ revert:   å›é€€"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":rocket: chore"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"ğŸš€ chore:    æ„å»º/å·¥ç¨‹ä¾èµ–/å·¥å…·"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span>      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">":construction_worker: ci"</span><span class="token punctuation">,</span>      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"ğŸ‘· ci:       CI related changes"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token literal-property property">messages</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"è¯·é€‰æ‹©æäº¤ç±»å‹(å¿…å¡«)"</span><span class="token punctuation">,</span>    <span class="token literal-property property">customScope</span><span class="token operator">:</span> <span class="token string">"è¯·è¾“å…¥æ–‡ä»¶ä¿®æ”¹èŒƒå›´(å¯é€‰)"</span><span class="token punctuation">,</span>    <span class="token literal-property property">subject</span><span class="token operator">:</span> <span class="token string">"è¯·ç®€è¦æè¿°æäº¤(å¿…å¡«)"</span><span class="token punctuation">,</span>    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token string">"è¯·è¾“å…¥è¯¦ç»†æè¿°(å¯é€‰)"</span><span class="token punctuation">,</span>    <span class="token literal-property property">breaking</span><span class="token operator">:</span> <span class="token string">"åˆ—å‡ºä»»ä½•BREAKING CHANGES(å¯é€‰)"</span><span class="token punctuation">,</span>    <span class="token literal-property property">footer</span><span class="token operator">:</span> <span class="token string">"è¯·è¾“å…¥è¦å…³é—­çš„issue(å¯é€‰)"</span><span class="token punctuation">,</span>    <span class="token literal-property property">confirmCommit</span><span class="token operator">:</span> <span class="token string">"ç¡®å®šæäº¤æ­¤è¯´æ˜å—ï¼Ÿ"</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token literal-property property">allowCustomScopes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// è·³è¿‡é—®é¢˜</span>  <span class="token literal-property property">skipQuestions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"body"</span><span class="token punctuation">,</span> <span class="token string">"footer"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token literal-property property">subjectLimit</span><span class="token operator">:</span> <span class="token number">72</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å°†-cz-customizable-è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„-package-json"><a href="#å°†-cz-customizable-è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„-package-json" class="headerlink" title="å°† cz-customizable è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„ package.json"></a>å°† cz-customizable è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„ <code>package.json</code></h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> set-script commit <span class="token string">"git add . &amp;&amp; cz-customizable"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> set-script commit <span class="token string">"git add . &amp;&amp; cz-customizable"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å®‰è£…-git-commit-emoji"><a href="#å®‰è£…-git-commit-emoji" class="headerlink" title="å®‰è£… git-commit-emoji"></a>å®‰è£… git-commit-emoji</h2><h3 id="å®‰è£…-emoji-æ’ä»¶"><a href="#å®‰è£…-emoji-æ’ä»¶" class="headerlink" title="å®‰è£… emoji æ’ä»¶"></a>å®‰è£… emoji æ’ä»¶</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">-D</span>  commitlint-config-git-commit-emoji<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i <span class="token parameter variable">-D</span>  commitlint-config-git-commit-emoji<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ›´æ–°-commitlint-config-js"><a href="#æ›´æ–°-commitlint-config-js" class="headerlink" title="æ›´æ–° commitlint.config.js"></a>æ›´æ–° <code>commitlint.config.js</code></h3><p>ç§»é™¤ extends ä¸­åŸæ¥çš„ <code>@commitlint/config-conventional</code>ï¼ŒåŠ å…¥<code>&#39;git-commit-emoji&#39;, &#39;cz&#39;</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"git-commit-emoji"</span><span class="token punctuation">,</span> <span class="token string">"cz"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å«-emoji-çš„è‡ªåŠ¨åŒ–æç¤ºé€‰é¡¹åˆ—è¡¨"><a href="#å«-emoji-çš„è‡ªåŠ¨åŒ–æç¤ºé€‰é¡¹åˆ—è¡¨" class="headerlink" title="å« emoji çš„è‡ªåŠ¨åŒ–æç¤ºé€‰é¡¹åˆ—è¡¨"></a>å« emoji çš„è‡ªåŠ¨åŒ–æç¤ºé€‰é¡¹åˆ—è¡¨</h3><p>ä½¿ç”¨ <code>npm run commit</code>æˆ–è€…<code>yarn commit</code> ä»£æ›¿ <code>git commit</code><br>åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ <code>npm run commit</code>æˆ–è€…<code>yarn commit</code> ï¼Œå³å¯é€šè¿‡é”®ç›˜ä¸Šä¸‹é”®é€‰æ‹©éœ€è¦è¦çš„ <code>commit type</code>äº†ã€‚</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><h3 id="æ ¹æ®-commit-message-è‡ªåŠ¨ç”Ÿæˆ-changelog"><a href="#æ ¹æ®-commit-message-è‡ªåŠ¨ç”Ÿæˆ-changelog" class="headerlink" title="æ ¹æ® commit message è‡ªåŠ¨ç”Ÿæˆ changelog"></a>æ ¹æ® commit message è‡ªåŠ¨ç”Ÿæˆ changelog</h3><h4 id="å®‰è£…-conventional-changelog"><a href="#å®‰è£…-conventional-changelog" class="headerlink" title="å®‰è£… conventional-changelog"></a>å®‰è£… conventional-changelog</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> conventional-changelog conventional-changelog-cli --save-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> conventional-changelog conventional-changelog-cli --save-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å°†-changelog-è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„-package-json"><a href="#å°†-changelog-è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„-package-json" class="headerlink" title="å°† changelog è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„ package.json"></a>å°† changelog è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„ <code>package.json</code></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> set-script changelog <span class="token string">"conventional-changelog -p cz-config.js -i CHANGELOG.md -s -r 0"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> set-script changelog <span class="token string">"conventional-changelog -p cz-config.js -i CHANGELOG.md -s -r 0"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ·»åŠ æˆåŠŸï¼š"><a href="#æ·»åŠ æˆåŠŸï¼š" class="headerlink" title="æ·»åŠ æˆåŠŸï¼š"></a>æ·»åŠ æˆåŠŸï¼š</h4><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"changelog"</span><span class="token operator">:</span> <span class="token string">"conventional-changelog -p cz-config.js -i CHANGELOG.md -s -r 0"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th align="left">æŒ‡ä»¤</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left">-p</td><td align="center">æŒ‡å®šé£æ ¼*</td></tr><tr><td align="left">-i</td><td align="center">CHANGELOG.md æŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶åç§°</td></tr><tr><td align="left">-s</td><td align="center">è¾“å‡ºåˆ° infileï¼Œè¿™æ ·å°±ä¸éœ€è¦æŒ‡å®šä¸ outfile ç›¸åŒçš„æ–‡ä»¶</td></tr><tr><td align="left">-r</td><td align="center">ä»æœ€æ–°çš„ç‰ˆæœ¬ç”Ÿæˆå¤šå°‘ä¸ªç‰ˆæœ¬ã€‚å¦‚æœä¸º 0ï¼Œåˆ™æ•´ä¸ªæ›´æ”¹æ—¥å¿—å°†è¢«é‡æ–°ç”Ÿæˆï¼Œè¾“å‡ºæ–‡ä»¶å°†è¢«è¦†ç›–ã€‚é»˜è®¤å€¼:1</td></tr><tr><td align="left">-n</td><td align="center">.&#x2F;changelog-option.js æŒ‡å®šè‡ªå®šä¹‰é…ç½®</td></tr></tbody></table><h4 id="è¿è¡Œå‘½ä»¤ç”Ÿæˆæœ€æ–°CHANGELOG"><a href="#è¿è¡Œå‘½ä»¤ç”Ÿæˆæœ€æ–°CHANGELOG" class="headerlink" title="è¿è¡Œå‘½ä»¤ç”Ÿæˆæœ€æ–°CHANGELOG"></a>è¿è¡Œå‘½ä»¤ç”Ÿæˆæœ€æ–°CHANGELOG</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> changelog<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> run changelog<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·åï¼Œè¿˜å¯ä»¥ç”¨-git-commit-m-quot-quot-æäº¤ä»£ç å—ï¼Ÿ"><a href="#ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·åï¼Œè¿˜å¯ä»¥ç”¨-git-commit-m-quot-quot-æäº¤ä»£ç å—ï¼Ÿ" class="headerlink" title="ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·åï¼Œè¿˜å¯ä»¥ç”¨ git commit - m &quot;&quot;æäº¤ä»£ç å—ï¼Ÿ"></a>ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·åï¼Œè¿˜å¯ä»¥ç”¨ <code>git commit - m &quot;&quot;</code>æäº¤ä»£ç å—ï¼Ÿ</h3><p>å¯ä»¥ã€‚<br>é…ç½®è‡ªåŠ¨åŒ–å·¥å…·åï¼Œä¸ä»…æ”¯æŒ<code>npm run commit</code>æˆ–è€…<code>yarn commit</code>è‡ªåŠ¨åŒ–æç¤ºé€‰æ‹©æäº¤ï¼Œä¹Ÿå¯ä»¥ç»§ç»­ä½¿ç”¨ <code>git commit - m &quot;&quot;</code>æäº¤,åªæ˜¯å†™typeçš„æ—¶å€™å‰é¢è¿˜éœ€è¦åŠ ä¸Šemojiçš„å­—ç¬¦ä¸²ã€‚</p><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="https://blog.csdn.net/jackson_wen/article/details/127921063">Git commitæ ¡éªŒå·¥å…·commitlintçš„é…ç½®ä¸ä½¿ç”¨-zhimingwen</a></p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gitmoji </tag>
            
            <tag> Comitlint </tag>
            
            <tag> é¡¹ç›®è§„èŒƒ </tag>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reactè·å–å­ç»„ä»¶(å‡½æ•°ç»„ä»¶)çš„æ–¹æ³•å±æ€§</title>
      <link href="/2023/06/16/react-huo-qu-zi-zu-jian-han-shu-zu-jian-de-fang-fa-shu-xing/"/>
      <url>/2023/06/16/react-huo-qu-zi-zu-jian-han-shu-zu-jian-de-fang-fa-shu-xing/</url>
      
        <content type="html"><![CDATA[<h2 id="é‡åˆ°é—®é¢˜"><a href="#é‡åˆ°é—®é¢˜" class="headerlink" title="é‡åˆ°é—®é¢˜"></a>é‡åˆ°é—®é¢˜</h2><p>åœ¨çˆ¶ç»„ä»¶æƒ³é€šè¿‡refçš„æ–¹å¼è·å–åˆ°å­ç»„ä»¶çš„æ–¹æ³•æˆ–è€…å±æ€§æ—¶,å‘ç°ä¸å¥½ä½¿å› ä¸ºè·å–åˆ°çš„æ˜¯<code>current:null</code>ã€‚ç»è¿‡å­¦ä¹ äº†è§£ï¼Œåœ¨reactä¸­æƒ³é€šè¿‡refè·å–å­ç»„ä»¶çš„å®ä¾‹ï¼Œå­ç»„ä»¶å¿…é¡»æ˜¯ç±»ç»„ä»¶æ‰è¡Œã€‚å…³äºå‡½æ•°ç»„ä»¶çš„è·å–æ–¹æ³•å°±æœ‰äº†ä»¥ä¸‹çš„æ•™ç¨‹ã€‚</p><h2 id="ç”¨åˆ°æŠ€æœ¯"><a href="#ç”¨åˆ°æŠ€æœ¯" class="headerlink" title="ç”¨åˆ°æŠ€æœ¯"></a>ç”¨åˆ°æŠ€æœ¯</h2><ul><li>forwardRef<br><strong>forwardRef</strong> æ˜¯ React æä¾›çš„ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼ˆHigher-Order Functionï¼‰ï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­è½¬å‘ <strong>ref</strong>ã€‚<br>ç¤ºä¾‹<pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> forwardRef <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><span class="token keyword">const</span> ChildComponent <span class="token operator">=</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">// å­ç»„ä»¶çš„å†…å®¹</span>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">Child Component</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> ChildComponent<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>useImperativeHandle<br><strong>useImperativeHandle</strong> æ˜¯ React çš„ä¸€ä¸ªé’©å­å‡½æ•°ï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­<strong>è‡ªå®šä¹‰æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å®ä¾‹å€¼æˆ–æ–¹æ³•</strong><br>é€šå¸¸æƒ…å†µä¸‹ï¼Œå‡½æ•°ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€å’Œæ–¹æ³•æ˜¯å¯¹å¤–éšè—çš„ï¼Œçˆ¶ç»„ä»¶æ— æ³•ç›´æ¥è®¿é—®æˆ–è°ƒç”¨ã€‚ä½†æ˜¯ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›å‡½æ•°ç»„ä»¶èƒ½å¤Ÿå‘å¤–éƒ¨æš´éœ²ä¸€äº›ç‰¹å®šçš„å®ä¾‹å€¼æˆ–æ–¹æ³•ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨ useImperativeHandleã€‚<br>useImperativeHandle æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šref å’Œä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚å›è°ƒå‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­çš„å±æ€§å’Œæ–¹æ³•å°†ä¼šæˆä¸ºçˆ¶ç»„ä»¶ä¸­é€šè¿‡ ref è®¿é—®åˆ°çš„å®ä¾‹å€¼æˆ–æ–¹æ³•ã€‚<br>ç¤ºä¾‹<pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> forwardRef<span class="token punctuation">,</span> useImperativeHandle <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><span class="token keyword">const</span> ChildComponent <span class="token operator">=</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token function-variable function">internalMethod</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Internal method called!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">useImperativeHandle</span><span class="token punctuation">(</span>ref<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token function-variable function">externalMethod</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'External method called!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    internalMethod  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">Child Component</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> ChildComponent<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="å®Œæ•´ç¤ºä¾‹"><a href="#å®Œæ•´ç¤ºä¾‹" class="headerlink" title="å®Œæ•´ç¤ºä¾‹"></a>å®Œæ•´ç¤ºä¾‹</h2><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> forwardRef<span class="token punctuation">,</span> useImperativeHandle <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><span class="token keyword">const</span> ChildComponent <span class="token operator">=</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token function-variable function">internalMethod</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Internal method called!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">useImperativeHandle</span><span class="token punctuation">(</span>ref<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token function-variable function">externalMethod</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'External method called!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    internalMethod  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">Child Component</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> ChildComponent<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> çˆ¶å­ç»„ä»¶ </tag>
            
            <tag> forwardRef </tag>
            
            <tag> useImperativeHandle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitmoji Commit Message ä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2023/06/03/git-commit-ti-jiao-gui-fan/"/>
      <url>/2023/06/03/git-commit-ti-jiao-gui-fan/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…å¿…è¦ä¾èµ–å’Œé…ç½®-éƒ½æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ"><a href="#å®‰è£…å¿…è¦ä¾èµ–å’Œé…ç½®-éƒ½æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ" class="headerlink" title="å®‰è£…å¿…è¦ä¾èµ–å’Œé…ç½®(éƒ½æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ)"></a>å®‰è£…å¿…è¦ä¾èµ–å’Œé…ç½®(éƒ½æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ)</h2><h3 id="å®‰è£…-commitlint-ä¸-commitlint-config-gitmoji-ä¾èµ–ã€‚"><a href="#å®‰è£…-commitlint-ä¸-commitlint-config-gitmoji-ä¾èµ–ã€‚" class="headerlink" title="å®‰è£… commitlint ä¸ commitlint-config-gitmoji ä¾èµ–ã€‚"></a>å®‰è£… commitlint ä¸ commitlint-config-gitmoji ä¾èµ–ã€‚</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">-D</span> commitlint-config-gitmoji commitlint<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"module.exports = &#123;extends: ['gitmoji']&#125;;"</span> <span class="token operator">></span> commitlint.config.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™é‡Œæ˜¯å¯ç”¨gitmoji</p><h3 id="å®‰è£…husky"><a href="#å®‰è£…husky" class="headerlink" title="å®‰è£…husky"></a>å®‰è£…husky</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> husky <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ·»åŠ hook"><a href="#æ·»åŠ hook" class="headerlink" title="æ·»åŠ hook"></a>æ·»åŠ hook</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">npx husky <span class="token function">add</span> .husky/commit-msg  <span class="token string">'npx --no -- commitlint --edit $&#123;1&#125;'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ·»åŠ é…ç½®é¡¹"><a href="#æ·»åŠ é…ç½®é¡¹" class="headerlink" title="æ·»åŠ é…ç½®é¡¹"></a>æ·»åŠ é…ç½®é¡¹</h3><p>åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­æ·»åŠ  <code>husky</code> é…ç½®</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"husky"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"hooks"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"commit-msg"</span><span class="token operator">:</span> <span class="token string">"commitlint -e $HUSKY_GIT_PARAMS"</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gitmoji </tag>
            
            <tag> Comitlint </tag>
            
            <tag> é¡¹ç›®è§„èŒƒ </tag>
            
            <tag> Gitmoji Commit Message </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Umijsé¡¹ç›®ä¸­çš„è¯·æ±‚å°è£…</title>
      <link href="/2023/06/02/umijs-xiang-mu-zhong-de-qing-qiu-feng-zhuang/"/>
      <url>/2023/06/02/umijs-xiang-mu-zhong-de-qing-qiu-feng-zhuang/</url>
      
        <content type="html"><![CDATA[<h2 id="é¡¹ç›®ä¾èµ–"><a href="#é¡¹ç›®ä¾èµ–" class="headerlink" title="é¡¹ç›®ä¾èµ–"></a>é¡¹ç›®ä¾èµ–</h2><ul><li><code>&quot;umi&quot;: &quot;^3.5.35&quot;,</code></li></ul><h2 id="æ–‡ä»¶é…ç½®"><a href="#æ–‡ä»¶é…ç½®" class="headerlink" title="æ–‡ä»¶é…ç½®"></a>æ–‡ä»¶é…ç½®</h2><h3 id="åœ¨src-x2F-app-jsæ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç "><a href="#åœ¨src-x2F-app-jsæ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç " class="headerlink" title="åœ¨src&#x2F;app.jsæ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç "></a>åœ¨src&#x2F;app.jsæ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç </h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å¯¼å…¥ä¾èµ–</span><span class="token keyword">import</span> httpErrorMessage <span class="token keyword">from</span> <span class="token string">'@/network/httpErrorMessage.js'</span><span class="token punctuation">;</span> <span class="token comment">// å¤„ç†è¯·æ±‚å¼‚å¸¸çš„æ–‡å­—é›†åˆ</span><span class="token keyword">import</span> codeErrorMessage <span class="token keyword">from</span> <span class="token string">'@/network/codeErrorMessage.js'</span><span class="token punctuation">;</span> <span class="token comment">// å¤„ç†æ ¹æ®è‡ªèº«ä¸šåŠ¡å®šä¹‰çš„è¯·æ±‚å¼‚å¸¸çš„æ–‡å­—é›†åˆ</span><span class="token keyword">import</span> urlsWithoutToken <span class="token keyword">from</span> <span class="token string">'@/network/urlsWithoutToken.js'</span><span class="token punctuation">;</span> <span class="token comment">// ä¸éœ€è¦æºå¸¦token URLé›†åˆ</span><span class="token comment">// è¯·æ±‚å°è£…</span><span class="token keyword">const</span> lang <span class="token operator">=</span> <span class="token string">'zh-CN'</span><span class="token punctuation">;</span> <span class="token comment">// zh-CN | en-US</span><span class="token comment">// æœåŠ¡å™¨è¯·æ±‚é”™è¯¯çŠ¶æ€å¤„ç†</span><span class="token keyword">const</span> <span class="token function-variable function">errorHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> response <span class="token punctuation">&#125;</span> <span class="token operator">=</span> error<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> errorText <span class="token operator">=</span>      httpErrorMessage<span class="token punctuation">[</span>lang<span class="token punctuation">]</span><span class="token punctuation">[</span>response<span class="token punctuation">.</span>status<span class="token punctuation">]</span> <span class="token operator">||</span> response<span class="token punctuation">.</span>statusText<span class="token punctuation">;</span>    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>errorText<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> response<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  errorHandler<span class="token punctuation">,</span>  <span class="token literal-property property">requestInterceptors</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token comment">// è¯·æ±‚æ‹¦æˆªå™¨ï¼Œæ¥æ”¶æ•°ç»„ï¼Œå¯è®¾ç½®å¤šä¸ªæ‹¦æˆªå™¨</span>    <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> shouldIncludeToken <span class="token operator">=</span> <span class="token operator">!</span>urlsWithoutToken<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦æºå¸¦token</span>      <span class="token keyword">const</span> modifiedOptions <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token operator">...</span>options<span class="token punctuation">,</span>        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token operator">...</span><span class="token punctuation">(</span>options<span class="token operator">?.</span>data <span class="token operator">??</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token comment">// å¯åœ¨è¿™é‡Œå¯¹æ•°æ®ä¸­ç»Ÿä¸€å¤„ç†</span>        <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>          <span class="token operator">...</span><span class="token punctuation">(</span>options<span class="token operator">?.</span>headers <span class="token operator">??</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token operator">...</span><span class="token punctuation">(</span>shouldIncludeToken <span class="token operator">&amp;&amp;</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">Authorization</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'ACCESS_TOKEN'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token comment">// æºå¸¦token</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span>modifiedOptions<span class="token punctuation">,</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/dev</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>options<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// ä¿®æ”¹URLåªèƒ½èµ°è¿™æ ·çš„æ–¹æ³•</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token literal-property property">responseInterceptors</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token comment">// ç›¸åº”æ‹¦æˆªå™¨ï¼Œä¹Ÿæ¥å—æ•°ç»„</span>    <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token comment">// tokenè¿‡æœŸçš„æ—¶å€™è‡ªåŠ¨åˆ·æ–°è·å–æ–°çš„tokenè‡ªåŠ¨ç™»å½•ï¼Œå½“ç„¶è¿™æ˜¯æ ¹æ®è‡ªå·±é¡µé¢çš„éœ€æ±‚å†³å®šï¼Œå¤§å¤šéƒ½æ˜¯tokenè¿‡æœŸè·³è½¬ç™»å½•é¡µé¢ï¼Œé‡æ–°ç™»é™†</span>          localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token string">'ACCESS_TOKEN'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token string">'USERNAME'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token comment">// åç«¯è§„å®šäº†ä¸€äº›è‡ªå®šä¹‰è¿”å›çš„errorCodeç ï¼Œè¿”å›åç«¯çš„è‡ªå®šä¹‰æç¤ºä¿¡æ¯</span>          <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>messageCode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">const</span> errorText <span class="token operator">=</span>              codeErrorMessage<span class="token punctuation">[</span>lang<span class="token punctuation">]</span><span class="token punctuation">[</span>data<span class="token punctuation">.</span>messageCode<span class="token punctuation">]</span> <span class="token operator">||</span>              codeErrorMessage<span class="token punctuation">[</span>lang<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//  codeErrorMessageæ”¯æŒå¤šè¯­è¨€ç¯å¢ƒçš„jsonæ–‡ä»¶ï¼Œå’ŒhttpErrorMessage ä¸€æ ·å†™æ³•</span>            <span class="token comment">// debugger</span>            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>errorText<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">&#125;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span>data<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// åç«¯è¿”å›200ä½†æ•°æ®ä¸ºç©ºçš„æƒ…å†µ</span>            <span class="token keyword">return</span> data<span class="token punctuation">;</span>          <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>          lang <span class="token operator">==</span> <span class="token string">'zh-CN'</span>            <span class="token operator">?</span> <span class="token string">'æ‚¨çš„ç½‘ç»œå‘ç”Ÿå¼‚å¸¸ï¼Œæ— æ³•è¿æ¥æœåŠ¡å™¨'</span>            <span class="token operator">:</span> <span class="token string">'Your network is abnormal and you cannot connect to the server'</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">return</span> response<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="httpErrorMessage-js"><a href="#httpErrorMessage-js" class="headerlink" title="httpErrorMessage.js"></a>httpErrorMessage.js</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> httpErrorMessage <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token string-property property">'en-US'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token number">200</span><span class="token operator">:</span> <span class="token string">'The server successfully returned the requested data.'</span><span class="token punctuation">,</span>    <span class="token number">201</span><span class="token operator">:</span> <span class="token string">'Data is created or modified successfully. Procedure'</span><span class="token punctuation">,</span>    <span class="token number">202</span><span class="token operator">:</span> <span class="token string">'A request has been queued in the background (asynchronous task).'</span><span class="token punctuation">,</span>    <span class="token number">204</span><span class="token operator">:</span> <span class="token string">'Succeeded in deleting data. Procedure'</span><span class="token punctuation">,</span>    <span class="token number">400</span><span class="token operator">:</span> <span class="token string">'The server did not create or modify data.'</span><span class="token punctuation">,</span>    <span class="token number">401</span><span class="token operator">:</span> <span class="token string">'User does not have permission (wrong token, username, password).'</span><span class="token punctuation">,</span>    <span class="token number">403</span><span class="token operator">:</span> <span class="token string">'The user is authorized, but access is prohibited.'</span><span class="token punctuation">,</span>    <span class="token number">404</span><span class="token operator">:</span> <span class="token string">'The request was made for a nonexistent record, and the server did not act on it.'</span><span class="token punctuation">,</span>    <span class="token number">406</span><span class="token operator">:</span> <span class="token string">'The requested format is not available.'</span><span class="token punctuation">,</span>    <span class="token number">410</span><span class="token operator">:</span> <span class="token string">'The requested resource is permanently deleted and will not be retrieved.'</span><span class="token punctuation">,</span>    <span class="token number">422</span><span class="token operator">:</span> <span class="token string">'A validation error occurred while creating an object.'</span><span class="token punctuation">,</span>    <span class="token number">500</span><span class="token operator">:</span> <span class="token string">'An error occurred on the server. Check the server.'</span><span class="token punctuation">,</span>    <span class="token number">502</span><span class="token operator">:</span> <span class="token string">'Gateway error.'</span><span class="token punctuation">,</span>    <span class="token number">503</span><span class="token operator">:</span> <span class="token string">'The service is unavailable, the server is temporarily overloaded or maintained.'</span><span class="token punctuation">,</span>    <span class="token number">504</span><span class="token operator">:</span> <span class="token string">'The gateway timed out.'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token string-property property">'zh-CN'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token number">200</span><span class="token operator">:</span> <span class="token string">'æœåŠ¡å™¨æˆåŠŸè¿”å›è¯·æ±‚çš„æ•°æ®ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">201</span><span class="token operator">:</span> <span class="token string">'æ–°å»ºæˆ–ä¿®æ”¹æ•°æ®æˆåŠŸã€‚'</span><span class="token punctuation">,</span>    <span class="token number">202</span><span class="token operator">:</span> <span class="token string">'ä¸€ä¸ªè¯·æ±‚å·²ç»è¿›å…¥åå°æ’é˜Ÿï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">204</span><span class="token operator">:</span> <span class="token string">'åˆ é™¤æ•°æ®æˆåŠŸã€‚'</span><span class="token punctuation">,</span>    <span class="token number">400</span><span class="token operator">:</span> <span class="token string">'å‘å‡ºçš„è¯·æ±‚æœ‰é”™è¯¯ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ–°å»ºæˆ–ä¿®æ”¹æ•°æ®çš„æ“ä½œã€‚'</span><span class="token punctuation">,</span>    <span class="token number">401</span><span class="token operator">:</span> <span class="token string">'ç”¨æˆ·æ²¡æœ‰æƒé™ï¼ˆä»¤ç‰Œã€ç”¨æˆ·åã€å¯†ç é”™è¯¯ï¼‰ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">403</span><span class="token operator">:</span> <span class="token string">'ç”¨æˆ·å¾—åˆ°æˆæƒï¼Œä½†æ˜¯è®¿é—®æ˜¯è¢«ç¦æ­¢çš„ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">404</span><span class="token operator">:</span> <span class="token string">'å‘å‡ºçš„è¯·æ±‚é’ˆå¯¹çš„æ˜¯ä¸å­˜åœ¨çš„è®°å½•ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ“ä½œã€‚'</span><span class="token punctuation">,</span>    <span class="token number">406</span><span class="token operator">:</span> <span class="token string">'è¯·æ±‚çš„æ ¼å¼ä¸å¯å¾—ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">410</span><span class="token operator">:</span> <span class="token string">'è¯·æ±‚çš„èµ„æºè¢«æ°¸ä¹…åˆ é™¤ï¼Œä¸”ä¸ä¼šå†å¾—åˆ°çš„ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">422</span><span class="token operator">:</span> <span class="token string">'å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå‘ç”Ÿä¸€ä¸ªéªŒè¯é”™è¯¯ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">500</span><span class="token operator">:</span> <span class="token string">'æœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼Œè¯·æ£€æŸ¥æœåŠ¡å™¨ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">502</span><span class="token operator">:</span> <span class="token string">'ç½‘å…³é”™è¯¯ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">503</span><span class="token operator">:</span> <span class="token string">'æœåŠ¡ä¸å¯ç”¨ï¼ŒæœåŠ¡å™¨æš‚æ—¶è¿‡è½½æˆ–ç»´æŠ¤ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">504</span><span class="token operator">:</span> <span class="token string">'ç½‘å…³è¶…æ—¶ã€‚'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> httpErrorMessage<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="codeErrorMessage-js-è¿™é‡Œæˆ‘æ²¡æœ‰åšä»€ä¹ˆè‡ªå®šä¹‰ï¼ˆå› ä¸ºè‡ªèº«ä¸šåŠ¡ä¸éœ€è¦ï¼‰"><a href="#codeErrorMessage-js-è¿™é‡Œæˆ‘æ²¡æœ‰åšä»€ä¹ˆè‡ªå®šä¹‰ï¼ˆå› ä¸ºè‡ªèº«ä¸šåŠ¡ä¸éœ€è¦ï¼‰" class="headerlink" title="codeErrorMessage.js è¿™é‡Œæˆ‘æ²¡æœ‰åšä»€ä¹ˆè‡ªå®šä¹‰ï¼ˆå› ä¸ºè‡ªèº«ä¸šåŠ¡ä¸éœ€è¦ï¼‰"></a>codeErrorMessage.js è¿™é‡Œæˆ‘æ²¡æœ‰åšä»€ä¹ˆè‡ªå®šä¹‰ï¼ˆå› ä¸ºè‡ªèº«ä¸šåŠ¡ä¸éœ€è¦ï¼‰</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> codeErrorMessage <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token string-property property">'en-US'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token number">200</span><span class="token operator">:</span> <span class="token string">'The server successfully returned the requested data.'</span><span class="token punctuation">,</span>    <span class="token number">201</span><span class="token operator">:</span> <span class="token string">'Data is created or modified successfully. Procedure'</span><span class="token punctuation">,</span>    <span class="token number">202</span><span class="token operator">:</span> <span class="token string">'A request has been queued in the background (asynchronous task).'</span><span class="token punctuation">,</span>    <span class="token number">204</span><span class="token operator">:</span> <span class="token string">'Succeeded in deleting data. Procedure'</span><span class="token punctuation">,</span>    <span class="token number">400</span><span class="token operator">:</span> <span class="token string">'The server did not create or modify data.'</span><span class="token punctuation">,</span>    <span class="token number">401</span><span class="token operator">:</span> <span class="token string">'User does not have permission (wrong token, username, password).'</span><span class="token punctuation">,</span>    <span class="token number">403</span><span class="token operator">:</span> <span class="token string">'The user is authorized, but access is prohibited.'</span><span class="token punctuation">,</span>    <span class="token number">404</span><span class="token operator">:</span> <span class="token string">'The request was made for a nonexistent record, and the server did not act on it.'</span><span class="token punctuation">,</span>    <span class="token number">406</span><span class="token operator">:</span> <span class="token string">'The requested format is not available.'</span><span class="token punctuation">,</span>    <span class="token number">410</span><span class="token operator">:</span> <span class="token string">'The requested resource is permanently deleted and will not be retrieved.'</span><span class="token punctuation">,</span>    <span class="token number">422</span><span class="token operator">:</span> <span class="token string">'A validation error occurred while creating an object.'</span><span class="token punctuation">,</span>    <span class="token number">500</span><span class="token operator">:</span> <span class="token string">'An error occurred on the server. Check the server.'</span><span class="token punctuation">,</span>    <span class="token number">502</span><span class="token operator">:</span> <span class="token string">'Gateway error.'</span><span class="token punctuation">,</span>    <span class="token number">503</span><span class="token operator">:</span> <span class="token string">'The service is unavailable, the server is temporarily overloaded or maintained.'</span><span class="token punctuation">,</span>    <span class="token number">504</span><span class="token operator">:</span> <span class="token string">'The gateway timed out.'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token string-property property">'zh-CN'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token number">200</span><span class="token operator">:</span> <span class="token string">'æœåŠ¡å™¨æˆåŠŸè¿”å›è¯·æ±‚çš„æ•°æ®ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">201</span><span class="token operator">:</span> <span class="token string">'æ–°å»ºæˆ–ä¿®æ”¹æ•°æ®æˆåŠŸã€‚'</span><span class="token punctuation">,</span>    <span class="token number">202</span><span class="token operator">:</span> <span class="token string">'ä¸€ä¸ªè¯·æ±‚å·²ç»è¿›å…¥åå°æ’é˜Ÿï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">204</span><span class="token operator">:</span> <span class="token string">'åˆ é™¤æ•°æ®æˆåŠŸã€‚'</span><span class="token punctuation">,</span>    <span class="token number">400</span><span class="token operator">:</span> <span class="token string">'å‘å‡ºçš„è¯·æ±‚æœ‰é”™è¯¯ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ–°å»ºæˆ–ä¿®æ”¹æ•°æ®çš„æ“ä½œã€‚'</span><span class="token punctuation">,</span>    <span class="token number">401</span><span class="token operator">:</span> <span class="token string">'ç”¨æˆ·æ²¡æœ‰æƒé™ï¼ˆä»¤ç‰Œã€ç”¨æˆ·åã€å¯†ç é”™è¯¯ï¼‰ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">403</span><span class="token operator">:</span> <span class="token string">'ç”¨æˆ·å¾—åˆ°æˆæƒï¼Œä½†æ˜¯è®¿é—®æ˜¯è¢«ç¦æ­¢çš„ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">404</span><span class="token operator">:</span> <span class="token string">'å‘å‡ºçš„è¯·æ±‚é’ˆå¯¹çš„æ˜¯ä¸å­˜åœ¨çš„è®°å½•ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ“ä½œã€‚'</span><span class="token punctuation">,</span>    <span class="token number">406</span><span class="token operator">:</span> <span class="token string">'è¯·æ±‚çš„æ ¼å¼ä¸å¯å¾—ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">410</span><span class="token operator">:</span> <span class="token string">'è¯·æ±‚çš„èµ„æºè¢«æ°¸ä¹…åˆ é™¤ï¼Œä¸”ä¸ä¼šå†å¾—åˆ°çš„ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">422</span><span class="token operator">:</span> <span class="token string">'å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå‘ç”Ÿä¸€ä¸ªéªŒè¯é”™è¯¯ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">500</span><span class="token operator">:</span> <span class="token string">'æœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼Œè¯·æ£€æŸ¥æœåŠ¡å™¨ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">502</span><span class="token operator">:</span> <span class="token string">'ç½‘å…³é”™è¯¯ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">503</span><span class="token operator">:</span> <span class="token string">'æœåŠ¡ä¸å¯ç”¨ï¼ŒæœåŠ¡å™¨æš‚æ—¶è¿‡è½½æˆ–ç»´æŠ¤ã€‚'</span><span class="token punctuation">,</span>    <span class="token number">504</span><span class="token operator">:</span> <span class="token string">'ç½‘å…³è¶…æ—¶ã€‚'</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> codeErrorMessage<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="urlsWithoutToken-js"><a href="#urlsWithoutToken-js" class="headerlink" title="urlsWithoutToken.js"></a>urlsWithoutToken.js</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ä¸éœ€è¦æºå¸¦tokençš„urlæ•°ç»„</span><span class="token keyword">const</span> urlsWithoutToken <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> urlsWithoutToken<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç®€å•ä½¿ç”¨æ–¹å¼-é…åˆdvaä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨æ–¹å¼-é…åˆdvaä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨æ–¹å¼(é…åˆdvaä½¿ç”¨)"></a>ç®€å•ä½¿ç”¨æ–¹å¼(é…åˆdvaä½¿ç”¨)</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å¯¼å…¥ä¾èµ–</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> request <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'umi'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getApi</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'/xxx/xxx'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>    params<span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// dvaä¸­ç¤ºä¾‹ä»£ç </span><span class="token keyword">yield</span> <span class="token function">call</span><span class="token punctuation">(</span>getApi<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'xxx'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="æ›´å¤šèµ„æ–™"><a href="#æ›´å¤šèµ„æ–™" class="headerlink" title="æ›´å¤šèµ„æ–™"></a>æ›´å¤šèµ„æ–™</h2><ul><li><p><a href="https://v3.umijs.org/zh-CN/plugins/plugin-request#request">@umijs&#x2F;plugin-request</a></p></li><li><p><a href="https://github.com/umijs/umi-request">umijs&#x2F;umi-request: A request tool based on fetch. (github.com)</a></p></li><li><p><a href="https://blog.csdn.net/huanhuan03/article/details/120652598">umiä½¿ç”¨plugin-requestè¿›è¡Œè¯·æ±‚çš„å…¨å±€é…ç½®_umi4 request</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/106796295">useRequest- èš‚èšä¸­å°æ ‡å‡†è¯·æ±‚ Hooks</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Umijs </tag>
            
            <tag> plugin-request </tag>
            
            <tag> æ•°æ®è¯·æ±‚å°è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reactå¼€å‘è§„èŒƒ</title>
      <link href="/2023/05/31/react-kai-fa-gui-fan/"/>
      <url>/2023/05/31/react-kai-fa-gui-fan/</url>
      
        <content type="html"><![CDATA[<h2 id="å‘½å"><a href="#å‘½å" class="headerlink" title="å‘½å"></a>å‘½å</h2><p>1ã€ç¼©è¿› 4 ä¸ªç©ºæ ¼ï¼Œå¦‚æœæ˜¯ tab ä¹Ÿè®¾ç½®æˆ 4 ä¸ªç©ºæ ¼</p><p>2ã€å‘½åæ—¶å°½é‡ç”¨è‹±æ–‡ï¼Œæ–‡ä»¶åï¼Œç»„ä»¶åç­‰ï¼Œå•è¯å¤šçš„å¯ä»¥å¤§å†™ç®€å†™ <a href="https://varbook.uiuing.com/">è‹±æ–‡ä¸å¥½çš„å¯ä»¥ä½¿ç”¨è¯¥ç½‘ç«™</a></p><p>3ã€å‡½æ•°åå­—å°½é‡ä»¥ handle å¼€å¤´ï¼Œå¦‚ handleSubmit &#x3D; () &#x3D;&gt;{}ï¼›å°½é‡ä½¿ç”¨åŠ¨è¯å¼€å¤´</p><table><thead><tr><th>åŠ¨è¯</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>can</td><td>åˆ¤æ–­æ˜¯å¦å¯æ‰§è¡ŒæŸä¸ªåŠ¨ä½œ</td></tr><tr><td>has</td><td>åˆ¤æ–­æ˜¯å¦å«æœ‰æŸä¸ªå€¼</td></tr><tr><td>is</td><td>åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªå€¼</td></tr><tr><td>get</td><td>è·å–æŸä¸ªå€¼</td></tr><tr><td>set</td><td>è®¾ç½®æŸä¸ªå€¼</td></tr></tbody></table><p>4ã€æ–‡ä»¶å¤¹å‘½åç»Ÿä¸€å°å†™ï¼› ç»„ä»¶ï¼Œæˆ–è€…ç±»å,é¦–å­—æ¯å…¨éƒ¨å¤§å†™ï¼Œéµå®ˆé©¼å³°å‘½åæ³•ï¼›</p><p>â€‹ img å­˜æ”¾å›¾ç‰‡ app APP ä¸€äº› component artcomponent ä¸€äº› art ç»„ä»¶</p><p>5ã€</p><h2 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h2><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token comment">// node_modules</span><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> Component <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Form<span class="token punctuation">,</span> Card<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Divider<span class="token punctuation">,</span> message<span class="token punctuation">,</span> Alert <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"antd"</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> connect <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"dva"</span><span class="token punctuation">;</span><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">"umi/router"</span><span class="token punctuation">;</span><span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">"prop-types"</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> PageHeaderWrapper <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@ant-design/pro-layout"</span><span class="token punctuation">;</span><span class="token comment">// é¡¹ç›®å…¬å…±æ¨¡å—</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> CustomFormHOC <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/components/FormWidget"</span><span class="token punctuation">;</span><span class="token comment">// å½“å‰ä¸šåŠ¡è€¦åˆæ¨¡å—</span><span class="token keyword">import</span> TransportInfo <span class="token keyword">from</span> <span class="token string">"./TransportInfo"</span><span class="token punctuation">;</span><span class="token keyword">import</span> RecordInfo <span class="token keyword">from</span> <span class="token string">"./RecordInfo"</span><span class="token punctuation">;</span><span class="token comment">// æ ·å¼æ–‡ä»¶</span><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">"./index.less"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> å¼€å‘è§„èŒƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Umijsé¡¹ç›®ä½¿ç”¨dvaé…åˆredux-persiståšæŒä¹…åŒ–å¤„ç†</title>
      <link href="/2023/05/26/umijs-xiang-mu-shi-yong-dva-zhong-zuo-chi-jiu-hua-chu-li/"/>
      <url>/2023/05/26/umijs-xiang-mu-shi-yong-dva-zhong-zuo-chi-jiu-hua-chu-li/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆè¦åšæ•°æ®æŒä¹…åŒ–"><a href="#ä¸ºä»€ä¹ˆè¦åšæ•°æ®æŒä¹…åŒ–" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åšæ•°æ®æŒä¹…åŒ–"></a>ä¸ºä»€ä¹ˆè¦åšæ•°æ®æŒä¹…åŒ–</h2><p>åœ¨é¡¹ç›®ä¸­æœ‰çš„æ•°æ®éœ€è¦ä»åç«¯è·å–åŒæ—¶è¿™ä¸ªæ•°æ®åˆæ˜¯å…¨å±€ä½¿ç”¨çš„ï¼Œä¸èƒ½å› ä¸ºä¸€åˆ·æ–°å°±é‡æ–°ä»åç«¯è·å–ã€‚è¿™æ ·ä¸ç°å®ï¼Œæ‰€ä»¥å°±å¯ä»¥ä½¿ç”¨åˆ°æ•°æ®æŒä¹…åŒ–å¹¶ä¸”ä½¿ç”¨<strong>dva</strong>é…åˆ<strong>redux-persist</strong>å®ç°çš„æ•°æ®æŒä¹…åŒ–æ”¹åŠ¨çš„ä»£ç ç‰¹åˆ«å°‘ï¼Œå¯ä»¥è¯´æ˜¯å‡ ä¹æ²¡æœ‰ã€‚</p><h2 id="æ•™ç¨‹é¡¹ç›®å„ä¾èµ–ç‰ˆæœ¬"><a href="#æ•™ç¨‹é¡¹ç›®å„ä¾èµ–ç‰ˆæœ¬" class="headerlink" title="æ•™ç¨‹é¡¹ç›®å„ä¾èµ–ç‰ˆæœ¬"></a>æ•™ç¨‹é¡¹ç›®å„ä¾èµ–ç‰ˆæœ¬</h2><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"react"</span><span class="token operator">:</span> <span class="token string">"17.x"</span><span class="token punctuation">,</span><span class="token property">"react-dom"</span><span class="token operator">:</span> <span class="token string">"17.x"</span><span class="token punctuation">,</span><span class="token property">"redux-persist"</span><span class="token operator">:</span> <span class="token string">"^6.0.0"</span><span class="token punctuation">,</span><span class="token property">"umi"</span><span class="token operator">:</span> <span class="token string">"^3.5.35"</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å®‰è£…redux-persist"><a href="#å®‰è£…redux-persist" class="headerlink" title="å®‰è£…redux-persist"></a>å®‰è£…redux-persist</h2><p>åœ¨umijsé¡¹ç›®ä¸­å¼€å¯dvaæ•°æ®çŠ¶æ€ç®¡ç†åï¼Œå¯ä»¥é€šè¿‡npmçš„æ–¹å¼æ¥å®‰è£…redux-persist</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i redux-persist<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ›´æ”¹Umijsçš„é…ç½®"><a href="#æ›´æ”¹Umijsçš„é…ç½®" class="headerlink" title="æ›´æ”¹Umijsçš„é…ç½®"></a>æ›´æ”¹Umijsçš„é…ç½®</h2><p>åœ¨<strong>åœ¨src&#x2F;app.js</strong>æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½® </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> persistStore<span class="token punctuation">,</span>persistReducer <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'redux-persist'</span><span class="token punctuation">;</span><span class="token keyword">import</span> storage <span class="token keyword">from</span> <span class="token string">'redux-persist/lib/storage'</span><span class="token punctuation">;</span><span class="token keyword">const</span> persistConfig <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>  storage<span class="token punctuation">,</span>  <span class="token literal-property property">whitelist</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'enumerate'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// é…ç½®ç™½åå• é‡Œé¢å†™éœ€è¦é…ç½®çš„åå­— ä¹Ÿå°±æ˜¯dvaæ–‡ä»¶çš„namespace</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// æ•°æ®æŒä¹…åŒ–</span><span class="token keyword">const</span> <span class="token function-variable function">persistEnhancer</span> <span class="token operator">=</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">createStore</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">,</span> enhancer</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>      <span class="token function">persistReducer</span><span class="token punctuation">(</span>persistConfig<span class="token punctuation">,</span> reducer<span class="token punctuation">)</span><span class="token punctuation">,</span>      initialState<span class="token punctuation">,</span>      enhancer<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> persist <span class="token operator">=</span> <span class="token function">persistStore</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span>store<span class="token punctuation">,</span> persist <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> dva <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">extraEnhancers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">persistEnhancer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ›´å¤šèµ„æ–™è®¿é—®å®˜ç½‘"><a href="#æ›´å¤šèµ„æ–™è®¿é—®å®˜ç½‘" class="headerlink" title="æ›´å¤šèµ„æ–™è®¿é—®å®˜ç½‘"></a>æ›´å¤šèµ„æ–™è®¿é—®<a href="https://github.com/rt2zz/redux-persist">å®˜ç½‘</a></h2>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Umijs </tag>
            
            <tag> dva </tag>
            
            <tag> redux-persist </tag>
            
            <tag> æ•°æ®æŒä¹…åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Treeåœ¨macä¸­çš„ä½¿ç”¨</title>
      <link href="/2023/05/15/tree-zai-mac-zhong-de-shi-yong/"/>
      <url>/2023/05/15/tree-zai-mac-zhong-de-shi-yong/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åœ¨macç”µè„‘ä¸­è¦ä½¿ç”¨treeéœ€è¦å®‰è£…ï¼Œæœ¬æ•™ç¨‹ä½¿ç”¨çš„æ˜¯<a href="https://brew.sh/index_zh-cn"> Homebrew</a></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">brew <span class="token function">install</span> tree<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä½¿ç”¨tree"><a href="#ä½¿ç”¨tree" class="headerlink" title="ä½¿ç”¨tree"></a>ä½¿ç”¨tree</h2><h3 id="treeå‘½ä»¤è¡Œå‚æ•°ï¼š"><a href="#treeå‘½ä»¤è¡Œå‚æ•°ï¼š" class="headerlink" title="treeå‘½ä»¤è¡Œå‚æ•°ï¼š"></a>treeå‘½ä»¤è¡Œå‚æ•°ï¼š</h3><ul><li>-a æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ã€‚</li><li>-A ä½¿ç”¨ASNIç»˜å›¾å­—ç¬¦æ˜¾ç¤ºæ ‘çŠ¶å›¾è€Œéä»¥ASCIIå­—ç¬¦ç»„åˆã€‚</li><li>-C åœ¨æ–‡ä»¶å’Œç›®å½•æ¸…å•åŠ ä¸Šè‰²å½©ï¼Œä¾¿äºåŒºåˆ†å„ç§ç±»å‹ã€‚</li><li>-d æ˜¾ç¤ºç›®å½•åç§°è€Œéå†…å®¹ã€‚</li><li>-D åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ›´æ”¹æ—¶é—´ã€‚</li><li>-f åœ¨æ¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¹‹å‰ï¼Œæ˜¾ç¤ºå®Œæ•´çš„ç›¸å¯¹è·¯å¾„åç§°ã€‚</li><li>-F åœ¨æ‰§è¡Œæ–‡ä»¶ï¼Œç›®å½•ï¼ŒSocketï¼Œç¬¦å·è¿æ¥ï¼Œç®¡é“åç§°åç§°ï¼Œå„è‡ªåŠ ä¸Šâ€*â€,â€&#x2F;â€œ,â€&#x3D;â€,â€@â€,â€|â€œå·ã€‚</li><li>-g åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„åç§°ï¼Œæ²¡æœ‰å¯¹åº”çš„åç§°æ—¶ï¼Œåˆ™æ˜¾ç¤ºç¾¤ç»„è¯†åˆ«ç ã€‚</li><li>-i ä¸ä»¥é˜¶æ¢¯çŠ¶åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•åç§°ã€‚</li><li>-I ä¸æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„æ–‡ä»¶æˆ–ç›®å½•åç§°ã€‚</li><li>-l å¦‚é‡åˆ°æ€§è´¨ä¸ºç¬¦å·è¿æ¥çš„ç›®å½•ï¼Œç›´æ¥åˆ—å‡ºè¯¥è¿æ¥æ‰€æŒ‡å‘çš„åŸå§‹ç›®å½•ã€‚</li><li>-n ä¸åœ¨æ–‡ä»¶å’Œç›®å½•æ¸…å•åŠ ä¸Šè‰²å½©ã€‚</li><li>-N ç›´æ¥åˆ—å‡ºæ–‡ä»¶å’Œç›®å½•åç§°ï¼ŒåŒ…æ‹¬æ§åˆ¶å­—ç¬¦ã€‚</li><li>-p åˆ—å‡ºæƒé™æ ‡ç¤ºã€‚</li><li>-P åªæ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„æ–‡ä»¶æˆ–ç›®å½•åç§°ã€‚</li><li>-q ç”¨â€?â€å·å–ä»£æ§åˆ¶å­—ç¬¦ï¼Œåˆ—å‡ºæ–‡ä»¶å’Œç›®å½•åç§°ã€‚</li><li>-s åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•å¤§å°ã€‚</li><li>-t ç”¨æ–‡ä»¶å’Œç›®å½•çš„æ›´æ”¹æ—¶é—´æ’åºã€‚</li><li>-u åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ‹¥æœ‰è€…åç§°ï¼Œæ²¡æœ‰å¯¹åº”çš„åç§°æ—¶ï¼Œåˆ™æ˜¾ç¤ºç”¨æˆ·è¯†åˆ«ç ã€‚</li><li>-x å°†èŒƒå›´å±€é™åœ¨ç°è¡Œçš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè‹¥æŒ‡å®šç›®å½•ä¸‹çš„æŸäº›å­ç›®å½•ï¼Œå…¶å­˜æ”¾äºå¦ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œåˆ™å°†è¯¥å­ç›®å½•äºˆä»¥æ’é™¤åœ¨å¯»æ‰¾èŒƒå›´å¤–ã€‚</li></ul><h3 id="ä½¿ç”¨ä¾‹å­"><a href="#ä½¿ç”¨ä¾‹å­" class="headerlink" title="ä½¿ç”¨ä¾‹å­"></a>ä½¿ç”¨ä¾‹å­</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">tree <span class="token parameter variable">-I</span> <span class="token string">"node_modules"</span> <span class="token parameter variable">-I</span> <span class="token string">"dist"</span> <span class="token parameter variable">-I</span> <span class="token string">"*.md"</span> <span class="token parameter variable">-I</span> <span class="token string">".swc"</span> <span class="token parameter variable">-I</span> <span class="token string">"*.png"</span> <span class="token operator">></span> tree.md<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä»£ç è§£é‡Š"><a href="#ä»£ç è§£é‡Š" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><p>ç”Ÿæˆæ–‡ä»¶ç›®å½•ä¸­çš„<strong>node_modules</strong>æ–‡ä»¶å¤¹å’Œ<strong>dist</strong>æ–‡ä»¶å¤¹ä¸ <strong>.md</strong> <strong>.swc</strong> <strong>.png</strong>çš„æ–‡ä»¶</p><h3 id="æ•ˆæœå±•ç¤º"><a href="#æ•ˆæœå±•ç¤º" class="headerlink" title="æ•ˆæœå±•ç¤º"></a>æ•ˆæœå±•ç¤º</h3><p><img src="https://s2.loli.net/2023/05/15/BJPixqAnHbIKWcV.png" alt="é¡¹ç›®æ ‘ç›®å½•"></p>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tree </tag>
            
            <tag> Mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Taro3-react-å°ç¨‹åº ä½¿ç”¨ ç¬¬ä¸‰æ–¹å¯Œæ–‡æœ¬ æ•™ç¨‹</title>
      <link href="/2023/05/13/mp-html-shi-yong-jiao-cheng/"/>
      <url>/2023/05/13/mp-html-shi-yong-jiao-cheng/</url>
      
        <content type="html"><![CDATA[<h2 id="mp-html-å®˜æ–¹ç½‘ç«™-å°ç¨‹åºå¯Œæ–‡æœ¬ç»„ä»¶-gitee-io"><a href="#mp-html-å®˜æ–¹ç½‘ç«™-å°ç¨‹åºå¯Œæ–‡æœ¬ç»„ä»¶-gitee-io" class="headerlink" title="mp- html [å®˜æ–¹ç½‘ç«™](å°ç¨‹åºå¯Œæ–‡æœ¬ç»„ä»¶ (gitee.io))"></a>mp- html [å®˜æ–¹ç½‘ç«™](<a href="https://jin-yufeng.gitee.io/mp-html/#/">å°ç¨‹åºå¯Œæ–‡æœ¬ç»„ä»¶ (gitee.io)</a>)</h2><h3 id="1-ä¸‹è½½æºæ–‡ä»¶"><a href="#1-ä¸‹è½½æºæ–‡ä»¶" class="headerlink" title="1.ä¸‹è½½æºæ–‡ä»¶"></a>1.ä¸‹è½½æºæ–‡ä»¶</h3><p><img src="https://s2.loli.net/2023/05/13/pWTG2NaUJmM7K1y.png" alt="ä¸‹è½½æºæ–‡ä»¶"></p><h3 id="2-å°†å¯¹åº”æ–‡ä»¶æ”¾å…¥åˆ°é¡¹ç›®ä¸­"><a href="#2-å°†å¯¹åº”æ–‡ä»¶æ”¾å…¥åˆ°é¡¹ç›®ä¸­" class="headerlink" title="2.å°†å¯¹åº”æ–‡ä»¶æ”¾å…¥åˆ°é¡¹ç›®ä¸­"></a>2.å°†å¯¹åº”æ–‡ä»¶æ”¾å…¥åˆ°é¡¹ç›®ä¸­</h3><h4 id="è¦æ”¾çš„æ–‡ä»¶å¤¹"><a href="#è¦æ”¾çš„æ–‡ä»¶å¤¹" class="headerlink" title="è¦æ”¾çš„æ–‡ä»¶å¤¹"></a>è¦æ”¾çš„æ–‡ä»¶å¤¹</h4><p><img src="https://s2.loli.net/2023/05/13/Pw5iVBWd9jY3NgE.png" alt="è¦æ”¾çš„æ–‡ä»¶å¤¹"></p><h4 id="æ”¾åˆ°é¡¹ç›®ä¸­"><a href="#æ”¾åˆ°é¡¹ç›®ä¸­" class="headerlink" title="æ”¾åˆ°é¡¹ç›®ä¸­"></a>æ”¾åˆ°é¡¹ç›®ä¸­</h4><p>åˆ›å»ºcomponentsæ–‡ä»¶å¤¹å°†<strong>mp-weixin</strong>æ”¾åˆ°è¯¥ç›®å½•ä¸‹å¹¶ä¸”æ”¹åä¸º<strong>mp-html</strong></p><p><img src="https://s2.loli.net/2023/05/13/Wr6tbs3hTJyGw5n.png" alt="é¡¹ç›®"></p><h4 id="ç¼–è¾‘æ–‡ä»¶"><a href="#ç¼–è¾‘æ–‡ä»¶" class="headerlink" title="ç¼–è¾‘æ–‡ä»¶"></a>ç¼–è¾‘æ–‡ä»¶</h4><p><img src="https://s2.loli.net/2023/05/13/1loSGyfRtC3Zx9B.png" alt="ç¼–è¾‘æ–‡ä»¶"></p><h5 id="ç¼–è¾‘æ–‡ä»¶çš„å†…å®¹"><a href="#ç¼–è¾‘æ–‡ä»¶çš„å†…å®¹" class="headerlink" title="ç¼–è¾‘æ–‡ä»¶çš„å†…å®¹"></a>ç¼–è¾‘æ–‡ä»¶çš„å†…å®¹</h5><p><img src="https://s2.loli.net/2023/05/13/Lwdtvucb7DpmVAC.png" alt="å†…å®¹"></p><pre class=" language-tsx"><code class="language-tsx">usingComponents:&#123;  "mp-html": "./components/mp-html/index"&#125;</code></pre><h4 id="æ¥ä¸‹æ¥æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„å¾®ä¿¡å°ç¨‹åºä½¿ç”¨æ•™ç¨‹æ¥ä½¿ç”¨å°±å¯ä»¥äº†"><a href="#æ¥ä¸‹æ¥æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„å¾®ä¿¡å°ç¨‹åºä½¿ç”¨æ•™ç¨‹æ¥ä½¿ç”¨å°±å¯ä»¥äº†" class="headerlink" title="æ¥ä¸‹æ¥æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„å¾®ä¿¡å°ç¨‹åºä½¿ç”¨æ•™ç¨‹æ¥ä½¿ç”¨å°±å¯ä»¥äº†"></a>æ¥ä¸‹æ¥æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„å¾®ä¿¡å°ç¨‹åºä½¿ç”¨æ•™ç¨‹æ¥ä½¿ç”¨å°±å¯ä»¥äº†</h4><h3 id="3-ä½¿ç”¨æ’ä»¶ï¼ˆå¦‚ç¼–è¾‘å¯Œæ–‡æœ¬ï¼‰"><a href="#3-ä½¿ç”¨æ’ä»¶ï¼ˆå¦‚ç¼–è¾‘å¯Œæ–‡æœ¬ï¼‰" class="headerlink" title="3.ä½¿ç”¨æ’ä»¶ï¼ˆå¦‚ç¼–è¾‘å¯Œæ–‡æœ¬ï¼‰"></a>3.ä½¿ç”¨æ’ä»¶ï¼ˆå¦‚ç¼–è¾‘å¯Œæ–‡æœ¬ï¼‰</h3><ul><li><p>ç¼–è¾‘æ–‡æœ¬</p><p><img src="https://s2.loli.net/2023/05/13/jBGoCsHmZtFd9TQ.png" alt="ç¼–è¾‘æ–‡æœ¬"></p></li><li><p>å®‰è£…ä¾èµ– é‡æ–°æ‰“åŒ…</p><p><img src="https://s2.loli.net/2023/05/13/sfPJIA6yuhtSCeq.png" alt="æ‰“åŒ…"></p></li></ul><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># å®‰è£…ä¾èµ–</span><span class="token comment" spellcheck="true"># é€šè¿‡ npm å®‰è£…</span><span class="token function">npm</span> <span class="token function">install</span><span class="token comment" spellcheck="true"># æˆ–é€šè¿‡ yarn å®‰è£…</span>yarn</code></pre><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># ç”Ÿæˆå¾®ä¿¡åŒ…åˆ° dist/mp-weixin</span><span class="token function">npm</span> run build:weixin</code></pre><h3 id="3-é‡æ–°æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤é‡æ–°å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶å¤¹æ”¾åˆ°é¡¹ç›®ä¸­å°±å¯ä»¥äº†"><a href="#3-é‡æ–°æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤é‡æ–°å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶å¤¹æ”¾åˆ°é¡¹ç›®ä¸­å°±å¯ä»¥äº†" class="headerlink" title="3.é‡æ–°æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤é‡æ–°å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶å¤¹æ”¾åˆ°é¡¹ç›®ä¸­å°±å¯ä»¥äº†"></a>3.é‡æ–°æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤é‡æ–°å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶å¤¹æ”¾åˆ°é¡¹ç›®ä¸­å°±å¯ä»¥äº†</h3><p><strong>æ³¨æ„</strong> ä½¿ç”¨ç»„ä»¶æ—¶ä¸éœ€è¦å¯¼å…¥ä½¿ç”¨çš„æ–‡ä»¶ä¸­æ˜¯å…¨å±€å¯¼å…¥çš„</p>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mh-mthl </tag>
            
            <tag> Taro </tag>
            
            <tag> å¯Œæ–‡æœ¬ </tag>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
